/*
 * Copyright 2018 Loopring Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

syntax = "proto3";

option java_multiple_files = true;
package org.loopring.lightcone.proto.ethereum;

message XBlockData {
    string id                   = 1;
    int64  height               = 2;
    int64  timestamp            = 3;
    int32  num_tx               = 4;
    string hash                 = 5;
    string parent_hash          = 6;
    string sha3_uncles          = 7;
    string mined_by             = 8;
    bytes  difficulty           = 9;
    bytes  total_difficulty     = 10;
    int64  size                 = 11;
    bytes  gas_used             = 12;
    bytes  gas_limit            = 13;
    int64  avg_gas_price        = 14;
    int64  nonce                = 15;
    bytes  block_reward         = 16;
    bytes  uncle_reward         = 17;
    bytes  extra_data           = 18;
}

message XTokenTransferData {
    string id                   = 1;
    int64  height               = 2;
    string tx_hash              = 3;
    int64  timestamp            = 4;
    string from                 = 5;
    string to                   = 6;
    bytes  amount               = 7;
    string token                = 8;
}

message XEventLogData {
    string id                   = 1;
    int64  height               = 2;
    string tx_hash              = 3;
    int64  timestamp            = 4;
    string address              = 5;
    string name                 = 6;
    bytes  data                 = 7;
    bytes  topics               = 8;
}

message XTransactionData {
    string id                   = 1;
    int64  height               = 2;
    string hash                 = 3;
    string block_hash           = 4;
    int64  timestamp            = 5;
    string from                 = 6;
    string to                   = 7;
    bytes  amount               = 8;
    int32  tx_receipt_status    = 9;
    bytes  gas_used             = 10;
    bytes  gas_limit            = 11;
    int64  gas_price            = 12;
    bytes  tx_fee               = 13;
    int64  nonce                = 14;
    bytes  input_data           = 15;
}

message XAddressData {
    string id                   = 1;
    string address              = 2;
    bytes  balance              = 3;
    int64  num_tx               = 4;
    string creator_address      = 5;
    string creator_tx           = 6;
    int64  updated_at_block     = 7;
}

// TODO(kongliang): for 2.0, we should add some other fields.
message XTradeData {
    string id                   = 1;
    int64  height               = 2;
    string block_hash           = 3;
    string tx_hash              = 4;
    string order_hash           = 5;
    int64  timestamp            = 6;
    // bytes amount_s              = 7;
    // bytes amount_b              = 8;
    // bytes amount_fee            = 9;
}

message XTokenBalance {
    string id                   = 1;
    string address              = 2;
    string token                = 3;
    bytes  balance              = 4;
    bytes  allowance            = 5;
    int64  updated_at_block     = 7;
}